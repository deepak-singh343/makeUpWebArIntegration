(function(e){function f(){this.settings={height:0};this.load()}f.prototype=e.extend({},f.prototype,{duration:function(){return 1E3*theme.animations.footbar_product.duration},load:function(){var a=this,c=e(".js-footbar-product"),d=e(".js-footer"),b=e("[data-js-footbar-product-limit]");c.length&&b.length&&(this.$footbar=c,$window.on("load theme.resize.productFootbar scroll.productFootbar",function(){a._checkVisible(c,b,d)}))},_checkVisible:function(a,c,d){c=c[0].getBoundingClientRect();var b=document.querySelector("sticky-header");
b=b&&b.getStickyHeight?b.getStickyHeight():0;var g=a.innerHeight();c.top<b&&!a.hasClass("footbar-product--visible")?(a.addClass("footbar-product--visible"),a.stop().slideDown({duration:this.duration(),complete:function(){}}),this.settings.height=a.children().first().innerHeight()):c.top>=b&&a.hasClass("footbar-product--visible")&&(a.removeClass("footbar-product--visible"),a.stop().slideUp({duration:this.duration(),complete:function(){}}),this.settings.height=0);0<g&&(theme.current.is_mobile?(d.css({paddingBottom:""}),
d.parent().css({paddingBottom:g})):(d.css({paddingBottom:g}),d.parent().css({paddingBottom:""})))},getFootbarHeight:function(){return this.settings.height},destroy:function(){$window.unbind("theme.resize.productFootbar scroll.productFootbar")}});theme.AssetsLoader.onPageLoaded(function(){theme.ProductFootbar=new f})})(jQueryTheme);
