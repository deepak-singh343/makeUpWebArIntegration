(function(e){class I extends HTMLElement{constructor(){super();this.load()}load(){var f=e(this),n={singleOpen:!0,anim_tab_duration:function(){return 1E3*theme.animations.tabs.duration},anim_scroll_duration:function(){return 1E3*theme.animations.tabs.scroll_duration},toggleOnDesktop:!0,scrollToOpenTab:"true"===f.attr("data-scrolling-to-opened-tab")?!0:!1,effect:"slide",offsetTop:".header__content.header__content--sticky"};f.hasClass("product-tabs")&&(n=e.extend(n,{goToTab:[{elem:".js-to-tab-shopify-review",
tab:"reviews"},{elem:'[href="#looxReviews"]',tab:"reviews"}]}));this.init(n)}init(f){function n(a){q||(q=a,("horizontal"!==p||w)&&theme.StickySidebar&&theme.StickySidebar.update("listener-enable"))}function C(a){q===a&&("horizontal"!==p||w)&&theme.StickySidebar&&theme.StickySidebar.update("listener-process")}function D(a){q===a&&(("horizontal"!==p||w)&&theme.StickySidebar&&theme.StickySidebar.update("listener-disable"),q=null)}function t(a,b){var c=b.effect||E,d={duration:f.anim_tab_duration(),start:function(){n("close")},
step:function(){C("close")},complete:function(){D("close");e(this).removeAttr("style")}};b.desktop||F?(k.removeClass("active"),a=u.filter(".active").removeClass("active").find("[data-js-tabs-content]").stop()):(b=k.index(a),a.removeClass("active"),a=u.eq(b).removeClass("active").find("[data-js-tabs-content]").stop());(function(h){switch(c){case "toggle":h.hide().removeAttr("style");break;case "slide":h.slideUp(d);break;default:h.slideUp(d)}})(a)}function x(a,b){var c=k.index(a),d=u.eq(c),h=b.effect||
E,m={duration:f.anim_tab_duration(),start:function(){n("open")},step:function(){C("open")},complete:function(){D("open");b.after&&b.after(d)}};a.addClass("active");(function(y){if(g.hasClass("slick-initialized")){var J=a.last().get(0).getBoundingClientRect().left,K=a.last().get(0).getBoundingClientRect().right,L=g.get(0).getBoundingClientRect().left,M=g.get(0).getBoundingClientRect().right;K>M?g.slick("slickNext"):J<L&&g.slick("slickPrev")}switch(h){case "toggle":y.show();b.after&&b.after(d);break;
case "slide":y.slideDown(m);break;default:y.slideDown(m)}})(d.addClass("active").find("> div").stop())}function N(a){function b(){var h="horizontal"===p&&c?l.offset().top:z.eq(k.index(d)).offset().top,m=document.querySelector("sticky-header");m=m&&m.getStickyHeight?m.getStickyHeight():0;e("html, body").stop().animate({scrollTop:h-m,duration:f.anim_scroll_duration()})}var c=1024<window.innerWidth,d=k.filter('[data-tab="'+a+'"]');d.hasClass("active")?b():(t(d,{desktop:c,effect:"toggle"}),x(d,{desktop:c,
effect:"toggle",after:function(){b()}}))}function G(a){var b=k.last().get(0).getBoundingClientRect().right,c=g.get(0).getBoundingClientRect().right;0===a?r.addClass("disabled"):r.removeClass("disabled");b<=c?v.addClass("disabled"):v.removeClass("disabled")}function O(){g.hasClass("slick-initialized")||(H.addClass("tabs__head--slider"),g.slick({infinite:!1,slidesToShow:1,variableWidth:!0,draggable:!1,dots:!1,arrows:!1}),r.addClass("disabled"),g.on("afterChange",function(a,b,c){G(c)}),r.on("click",
function(){e(this).hasClass("disabled")||g.slick("slickPrev")}),v.on("click",function(){e(this).hasClass("disabled")||g.slick("slickNext")}))}function A(){g.hasClass("slick-initialized")&&(e(g,r,v).off(),g.slick("unslick"),H.removeClass("tabs__head--slider"))}var l=e(this),H=l.find("[data-js-tabs-head]"),g=l.find("[data-js-tabs-slider]"),k=l.find("[data-js-tabs-btn]"),z=l.find("[data-js-tabs-btn-mobile]"),u=l.find("[data-js-tabs-tab]"),r=l.find("[data-js-tabs-nav-prev]"),v=l.find("[data-js-tabs-nav-next]"),
p=l.attr("data-type"),P=void 0!==f.scrollToOpenTab?f.scrollToOpenTab:!0,F=void 0!==f.singleOpen?f.singleOpen:!0,Q=void 0!==f.toggleOnDesktop?f.toggleOnDesktop:!0,E=void 0!==f.effect?f.effect:"slide",B=f.goToTab,w=e(".product-page__sidebar--right.js-sticky-sidebar").length,q;k.on("click",function(a,b){a=e(this);var c=1024<window.innerWidth;b="trigger"===b?!0:!1;a.hasClass("active")?c&&!Q||t(a,{desktop:c}):(t(a,{desktop:c}),x(a,{desktop:c,after:function(d){if(!(c&&"horizontal"===p||b)&&P){d=d.find("[data-js-tabs-btn-mobile]").offset().top;
var h=document.querySelector("sticky-header");h=h&&h.getStickyHeight?h.getStickyHeight():0;e("html, body").stop().animate({scrollTop:d-h,duration:f.anim_scroll_duration()})}}}))});z.on("click",function(){var a=e(this).parent();a=u.index(a);k.eq(a).trigger("click")});e.isArray(B)&&B.length&&e(B).each(function(){var a=this;$body.on("click",this.elem,function(b){N(a.tab,a.scrollTo,a.focus);b.preventDefault();return!1})});if("horizontal"===p)e(window).on("theme.resize updateTabs",function(){var a=1024<
window.innerWidth,b=g.innerWidth(),c=0;k.each(function(){c+=e(this).innerWidth()});if(a){var d=k.filter(".active");!F&&1<d.length&&(d=d.first(),t("",{desktop:a}),x(d,{desktop:a}));c>b?(O(),g.hasClass("slick-initialized")&&setTimeout(function(){G(k.index(e("[data-js-tabs-btn].slick-current")))},0)):A()}else A()});this.destroy=()=>{k.add(z).off();A()};e(window).trigger("updateTabs");l.addClass("tabs--init")}disconnectedCallback(){this.destroy&&this.destroy()}}theme.AssetsLoader.onPageLoaded(function(){customElements.define("tabs-element",
I)})})(jQueryTheme);
