(function(c){function d(){this.settings={popup_subscription_name:"subscription-confirmation",popup_contact_name:"contact-confirmation"};this.load()}d.prototype=c.extend({},d.prototype,{load:function(){function e(){var a=new Date;a.setTime(a.getTime()+864E6);theme.Cookie.set("subscription","off",{expires:a})}var f=c(".js-subscription-confirmation-error"),g=c('[data-js-popup-name="message"] .note--error');if(-1!==window.location.href.indexOf("customer_posted=true")||-1!==window.location.href.indexOf("contact%5Btags%5D=newsletter&form_type=customer"))e(),
theme.Popups.callByName(this.settings.popup_subscription_name),theme.Popups.addHandler(this.settings.popup_subscription_name,"close.after",function(){var a=window.location.href.replace("?customer_posted=true","").replace("customer_posted=true","");window.history.replaceState({path:a},"",a)});else if(-1!==window.location.href.indexOf("contact_posted=true"))e(),theme.Popups.callByName(this.settings.popup_contact_name),theme.Popups.addHandler(this.settings.popup_contact_name,"close.after",function(){var a=
window.location.href.replace("?contact_posted=true","").replace("contact_posted=true","");window.history.replaceState({path:a},"",a)});else if(f.length){var b=theme.Popups.getByName(this.settings.popup_subscription_name);b.find("[data-popup-confirmation-success]").addClass("d-none");b.find("[data-popup-confirmation-error-message]").html(f.first().html());b.find("[data-popup-confirmation-error]").removeClass("d-none");theme.Popups.callByName(this.settings.popup_subscription_name)}else g.length?(b=
theme.Popups.getByName(this.settings.popup_contact_name),b.find("[data-popup-confirmation-success]").addClass("d-none"),b.find("[data-popup-confirmation-error-message]").html(g.first().html()),b.find("[data-popup-confirmation-error]").removeClass("d-none"),theme.Popups.callByName(this.settings.popup_contact_name)):-1!==window.location.href.indexOf("form_type=contact")&&-1===window.location.href.indexOf("contact_posted=true")&&-1!==window.location.href.indexOf("was_reloaded=true")&&(window.location.href+=
"&was_reloaded=true")}});theme.AssetsLoader.onPageLoaded(function(){theme.PopupSubscription\u0421onfirmation=new d})})(jQueryTheme);
