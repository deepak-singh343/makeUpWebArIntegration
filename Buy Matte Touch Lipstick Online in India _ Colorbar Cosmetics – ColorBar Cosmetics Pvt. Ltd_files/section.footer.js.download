!function(t){"use strict";class e extends HTMLElement{constructor(){super(),theme.AssetsLoader.onScrollOrUserAction(this,()=>{this.load()})}load(){this.$container=t(this),this.namespace=".footer",this.buttonToTopInit(this.namespace),this.fixedFooter(this.$container.find(".js-footer"),this.namespace)}buttonToTopInit(e){var o=this,a=t("[data-js-button-back-to-top]");e+=".buttonToTop";if(a.length){var s=a.attr("data-js-button-back-to-top")||1e3,n=function(){return 1e3*theme.animations.backtotop.scroll_duration},i=!0;this.is_animate=!1,$window.on("scroll"+e+" theme.resize"+e,function(){var e=pageYOffset||Math.max(t("body").scrollTop(),t("html").scrollTop());a.attr("data-bind")||a[e>s?"addClass":"removeClass"]("show"),e>s&&i&&a.removeAttr("data-bind")}),a.on("click",function(e){if(!o.is_animate){o.is_animate=!0;var s=a.attr("data-bind");if(s)t("html, body").stop().animate({scrollTop:s,duration:n()}),setTimeout(()=>{o.is_animate=!1,a.removeAttr("data-bind")},n());else{var r=pageYOffset||Math.max(t("body").scrollTop(),t("html").scrollTop());i=!1,a.attr("data-bind",r),t("html, body").stop().animate({scrollTop:0,duration:n()}),setTimeout(()=>{o.is_animate=!1,i=!0},n())}return e.preventDefault(),e.stopPropagation(),!1}}),this.$buttonToTop=a}}fixedFooter(e,o){if(e.length&&e[0].hasAttribute("data-js-footer-fixed")){var a=e.parent(),s=t("#MainContent");$window.on("theme.resize"+o+" scroll"+o,n),n()}function n(){var t=e.outerHeight(),o=s.innerHeight()>t+window.innerHeight;e[o&&theme.current.is_desktop?"addClass":"removeClass"]("footer--fixed"),e.css({width:theme.current.is_desktop&&a.hasClass("container")?a.width():""}),s.css({marginBottom:o&&theme.current.is_desktop?t+parseInt(e.css("margin-top")):""})}}disconnectedCallback(){this.$buttonToTop&&$buttonToTop.off(),$window.unbind("theme.resize"+namespace+" scroll"+namespace)}}theme.AssetsLoader.onPageLoaded(function(){customElements.define("footer-section",e)})}(jQueryTheme);